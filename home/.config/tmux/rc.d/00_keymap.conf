# Disable suspend-client while C-Z is prefix key
set -g prefix C-z
unbind C-Z


# Reload .tmux.conf file
bind R source "$HOME/.tmux.conf" \; display "~/.tmux.conf has been reloaded"

bind -n 'M-n'     next-window
bind -n 'M-p'     previous-window
bind -n 'M-Up'    resize-pane -U 5
bind -n 'M-Down'  resize-pane -D 5
bind -n 'M-Left'  resize-pane -L 5
bind -n 'M-Right' resize-pane -R 5
bind -n 'M-C-Up'    resize-pane -U
bind -n 'M-C-Down'  resize-pane -D
bind -n 'M-C-Left'  resize-pane -L
bind -n 'M-C-Right' resize-pane -R

# Open new window or pane with the current path
bind 'c' new-window -c "#{pane_current_path}"
bind '"' split-window -c "#{pane_current_path}"
bind '%' split-window -h -c "#{pane_current_path}"

# Navigate pane
bind 'h' select-pane -L
bind 'j' select-pane -D
bind 'k' select-pane -U
bind 'l' select-pane -R
bind -n 'M-h' select-pane -L
bind -n 'M-j' select-pane -D
bind -n 'M-k' select-pane -U
bind -n 'M-l' select-pane -R

# Navigate window
bind -n 'M-S-l'     last-window

# Toggle pane synchronize
bind 'g' set-window-option synchronize-panes
bind -n 'M-g' set-window-option synchronize-panes

# Join and break panes
bind J choose-window "join-pane -h -s '%%'"
bind -n 'M-S-j' choose-window "join-pane -h -s '%%'"

# Use Vi in copymode
# Note that v/V are ovreride by tmux-plugins/tmux-yank
setw -g mode-keys vi
bind -Tcopy-mode-vi 'Escape' send -X cancel
bind -Tcopy-mode-vi 'v'      send -X begin-selection
bind -Tcopy-mode-vi 'C-V'    send -X rectangle-toggle
bind -Tcopy-mode-vi 'V'      send -X start-of-line \; send -X begin-selection \; send -X end-of-line
bind -Tcopy-mode-vi 'y'      send -X copy-pipe-and-cancel "circlip copy"
bind -Tcopy-mode-vi 'Enter'  send -X copy-pipe-and-cancel "circlip copy"

bind ']' run-shell "tmux set-buffer \"$(circlip paste)\"; tmux paste-buffer"
